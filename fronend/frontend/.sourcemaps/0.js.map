{"version":3,"sources":["../../src/pages/item/item.module.ts","../../src/pages/item/item.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ItemPage } from './item';\nimport { CategoryPageModule } from '../category/category.module';\n\n@NgModule({\n  declarations: [\n    ItemPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ItemPage),\n  ],\n})\nexport class ItemPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item/item.module.ts","import { Component } from '@angular/core';\nimport {IonicPage, Keyboard, ModalController, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {LoginPage} from \"../login/login\";\nimport {DatePickerProvider} from \"ionic2-date-picker\";\nimport {AngularFireAuth} from \"angularfire2/auth\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\n\nexport interface Item {\n  entry_time: String;\n  category: String;\n  note: String;\n  amount: String;\n  type: String;\n  created_by: any;\n}\n\n/**\n * Generated class for the ItemPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-item',\n  templateUrl: 'item.html',\n})\nexport class ItemPage {\n\n  item: Item = {\n    entry_time: (new Date().getTime()).toString(),\n    category: '',\n    note: '',\n    amount: '',\n    type: '',\n    created_by:'',\n  };\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private datePickerProvider: DatePickerProvider,\n              //public cate: CategoryProvider,\n              //private trans: TransactionProvider,\n              public modalCtrl: ModalController,\n              private keyboard: Keyboard,\n              private toastCtrl: ToastController,\n              private afAuth: AngularFireAuth,\n              public  http:HttpClient) {\n  }\n\n  // ionViewDidLoad() {\n  //   console.log('ionViewDidLoad ItemPage');\n  // }\n  // chooseCategory() {\n  //     this.navCtrl.push('CategoryPage', {item : this.item})\n  //\n  // }\n  presentToast(message: string) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 3000,\n      position: 'bottom'\n    });\n    toast.present();\n    return toast;\n  }\n  click(category: String) {\n    this.item.category = category;\n    //this.item.type = \"expense\";\n  }\n  showCalendar() {\n    const dateSelected =\n      this.datePickerProvider.showCalendar(this.modalCtrl);\n\n    dateSelected.subscribe(date =>\n      this.item.entry_time = (date.getTime()).toString()\n    );\n  }\n  handleEnter() {\n    this.keyboard.close();\n  }\n\n  Save(type:String) {\n    if (this.item.amount.length <= 0) {\n      this.presentToast(\"Please input your expense\");\n    }\n    else if (this.item.category.length <= 0) {\n      this.presentToast(\"Please choose one category\");\n    }\n    else {\n      this.item.type = type;\n\n      var jsonData = {\n        'type': this.item.type,  //type can be cost or income\n        'category': this.item.category,  //category is any subcategory under type\n        'date':(new Date().getTime()).toString(),\n        'money':this.item.amount,\n        'comment':this.item.note\n      };\n\n      let myheaders = new HttpHeaders({ });\n      this.navCtrl.push('ItemPage');\n      this.http.post(\"http://localhost:3000/addRecord\", jsonData, {headers: myheaders, withCredentials: true , responseType:'text'})\n        .subscribe((data) => {\n          if (data == \"SUCCESS\") {\n            console.log(\"data was added\");\n            //stuff\n\n\n          } else if (data == \"NOT_LOGGED_IN\") {\n            console.log(\"user not logged in\");\n            //stuff\n\n\n          } else if (data == \"NO_CATEGORY\") {\n            console.log(\"no category was entered\");\n            //stuff\n\n\n          } else if (data == \"NO_TYPE\") {\n            console.log(\"no type (income or cost) was entered\");\n            //stuff\n\n          } else if (data == \"NO_DATE\") {\n            console.log(\"no date present\");\n            //stuff\n\n          } else {\n            console.log(data);\n            //stuff\n\n          }\n        }, error => {\n          console.log(\"Error connecting to backend server\");\n        });\n\n    }\n    console.log(jsonData)\n  }\n  presentNewExpense() {\n\n    // let profileModal = this.modalCtrl.create('ItemPage', { type: type });\n    // profileModal.present();\n    this.navCtrl.push('CategoryPage')\n\n  }\n  // presentNewExpense() {\n  //\n  //   // let profileModal = this.modalCtrl.create('ItemPage', { type: type });\n  //   // profileModal.present();\n  //   this.navCtrl.push('ItemPage')\n  //\n  // }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item/item.ts"],"sourceRoot":""}